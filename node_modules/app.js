'use strict';

const myApp = angular.module('myApp',[]);

const myCtrl = ($scope,myConfig,myHttp,$rootScope)=>{
    $scope.msg = myConfig.msg;
    $scope.msg2 = myHttp.getMsg();

    let user ={
        email:"1@1.com",
        password:"1"
    }

    $scope.getAllExhibitions = ()=>{
        myHttp.getAllExhib()
            .then((response)=>console.log(response))
            .catch((err)=>console.log(err))
    }

    myHttp.getToken(user)
        .then((response)=>{
            console.log(response);
            if (response.data.error) 
                alert('no token')
            else
                $rootScope.token = response.data.token;
        })
        .catch((err)=>console.log(err))

}




myApp.controller('myCtrl',myCtrl);


